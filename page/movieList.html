<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>电影列表</title>
    <script src="https://libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
</head>
<body>
<div>
    <div id="list"></div>
</div>
<script type="text/javascript">
    $(function () {
        $.ajax({
            type: 'get',
            url: 'https://api.douban.com/v2/movie/in_theaters',
            dataType: 'json',
            success: function (data) {
                var list = data.subjects;
                var htm = '';
                    htm += "" + data.title + "";
                for (var i = 0; i < list.length; i++) {
                    htm += '<div>';
                   htm += '<img src="' + list[i].casts[0].avatars.small + '" onerror="javascript:this.src=\'../img/loading.gif\';"/>';
                    htm += '<div>电影名称：' + list[i].title + '</div>';
                    htm += '<div>评分：' + list[i].rating.average + '</div>';
                    htm += '<div>主演列表：';
                    for (var j = 0; j < list[i].casts.length; j++) {
                        htm += '<span>' + list[i].casts[j].name+ ',</span>';
                    }
                    htm += '</div>';
                    htm += '<div>电影类型：' + list[i].genres + '</div><br/><br/><br/>';
                    htm += '</div>';
                    // console.log(list[i].casts[0].avatars.small);
                }
                $("#list").append(htm);
            }
        });
    })
</script>
</body>
</html>